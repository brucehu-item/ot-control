# 加班管理系统领域模型概述

## 限界上下文划分

### 身份认证上下文（Authentication Context）
职责：
- 用户登录认证
- 用户登出管理
- 用户会话管理

### 组织架构上下文（Organization Context）
职责：
- 管理场所、部门、用户等组织结构
- 维护组织间的层级关系
- 提供组织架构查询服务

### 加班管理上下文（Overtime Context）
职责：
- 加班申请的创建和管理
- 加班审批流程的处理
- 加班记录的查询和统计

## 上下文之间的关系

### 身份认证上下文与其他上下文的关系
- 与组织架构上下文：采用客户-供应商（Customer-Supplier）模式
  - 身份认证上下文作为供应商提供用户认证服务
  - 组织架构上下文作为客户消费认证服务
- 与加班管理上下文：采用防腐层（ACL）模式
  - 确保认证信息的安全传递
  - 防止认证细节泄露到业务层

### 组织架构上下文与加班管理上下文的关系
- 采用共享内核（Shared Kernel）模式
  - 共享组织结构和用户信息的核心模型
  - 确保组织架构数据的��致性
  - 提供统一的组织架构查询接口

## 数据流向
1. 用户认证流：
   - 用户 -> 身份认证上下文
   - 身份认证上下文 -> 组织架构上下文（获取用户详细信息）
   - 身份认证上下文 -> 加班管理上下文（提供用户身份信息）

2. 加班申请流：
   - 加班管理上下文 -> 组织架构上下文（获取组织关系）
   - 加班管理上下文 -> 身份认证上下文（验证用户权限）

3. 组织架构数据流：
   - 组织架构上下文 -> 加班管理上下文（提供组织结构信息）
   - 组织架构上下文 -> 身份认证上下文（提供用户角色信息） 