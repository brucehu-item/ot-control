
阅读requirement目录下的需求文档，生成一份**详细的领域建模设计**，确保开发人员能够直接按照此设计实现软件逻辑，无需额外补充信息。设计需要覆盖所有业务细节，遵照分而治之的思想，逐步展开分析。

建模要求：
1. 如果业务只涉及一个限界上下文，就只生成一个分析文档即可。
2. 如果涉及多个限界上下文，就生成多个分析文档。
 - 一个文档用来描述业务涉及的所有上下文，以及这些限界上下文之间的关系。
 - 其他文档针对每个限界上下文进行详细分析，为每个限界上下文生成一个分析文档。

建模过程如下:

### **1. 限界上下文**
- 列出所有限界上下文，并明确其名称和职责。  
- 描述每个限界上下文的业务范围和核心目标，明确其边界条件，确保不与其他上下文职责重叠。  
- 列出关键业务用例以及上下文所需的输入和输出。  
- 描述与其他限界上下文的关系，例如通过事件驱动、同步调用、共享数据等方式集成。  
- 如果有需要，进一步细分上下文内部的模块或子系统，并说明其作用。

### **2. 限界上下文之间的关系**
- 分析我的业务描述，结合领域驱动设计，结合每种交互方式的优缺点，确定最适合我的业务的交互模式，交互模式包括但不限于：
  - 共享内核（Shared Kernel）
  - 客户-供应商（Customer-Supplier）
  - 防腐层（Anti-Corruption Layer, ACL）
  - 公开主机服务（Open Host Service, OHS）
  - 发布语言（Published Language）
  - 独立上下文（Separate Ways）
  - 伙伴关系（Partnership）
  - 一致性限界（Conformist）
- 明确数据流的方向和依赖关系，说明哪些上下文为其他上下文提供服务或共享数据。  

### **3. 每个限界上下文内的领域对象**
#### **3.1 聚合**
- 定义聚合的职责及其边界，明确其在业务流程中的作用。  
- 指定聚合根（Aggregate Root），并说明其唯一性和作为访问入口的意义。  
- 描述聚合内部包含的实体、值对象，以及它们之间的关系和一致性规则。  
- 列出聚合的行为和操作，说明每个操作的输入、输出及对聚合状态的影响。  
- 明确聚合的生命周期管理，描述创建、更新和删除的条件和流程。

#### **3.2 实体**
- 定义每个实体的唯一标识（ID）及其在业务中的意义。  
- 列出实体的所有属性，说明每个属性的业务含义、类型及约束条件（如必填项、长度限制）。  
- 描述实体的方法（行为），包括方法的输入、输出及其对实体状态的修改规则。  
- 明确实体的生命周期及其状态流转过程，描述不同状态之间的转换条件。  
- 如果实体与其他对象有关联，明确其关系（如一对多、多对多等）。  

#### **3.3 值对象**
- 定义值对象的职责，确保其不可变性。  
- 列出值对象的所有属性及其业务含义，说明其验证规则和取值范围。  
- 描述值对象的比较规则，说明在何种条件下两个值对象被视为相等。  
- 如果值对象涉及复杂业务逻辑（如计算、格式化），详细描述其逻辑规则。

#### **3.4 领域服务**
- 定义领域服务的核心职责，并解释为何这些逻辑不适合放在实体或聚合中。  
- 列出领域服务的方法，说明每个方法的输入参数、输出结果及其业务意义。  
- 说明服务的依赖关系，例如需要访问的聚合或外部系统。  
- 示例：运费计算服务需要哪些参数（重量、距离），如何得出计算结果。  

#### **3.5 工厂**
- 定义工厂的职责，例如复杂对象或聚合的创建流程。  
- 列出工厂的方法，说明其输入参数、默认值规则及输出的对象结构。  
- 描述对象创建过程中涉及的业务校验逻辑。  

#### **3.6 仓储**
- 定义仓储的职责，用于持久化和检索聚合或实体。  
- 列出仓储的方法，例如 `save`、`findById`、`delete`，以及方法的具体行为和参数规则。  
- 说明仓储支持的查询条件、排序规则及筛选参数。  
- 描述仓储实现中涉及的数据一致性或事务管理策略。  

#### **3.7 领域事件（如果使用）**
- 描述事件的业务意义及其触发条件。  
- 列出事件的属性，说明每个属性的作用和业务意义。  
- 定义事件的传播范围（如限于本上下文或跨上下文）。  
- 提供订阅者处理事件的逻辑示例，描述事件消费后的业务影响。

### **输出要求**
- 采用结构化的方式呈现，使用清晰的标题、小节、编号。
- 确保每个领域对象描述完整且具体，覆盖其属性、行为及其在业务流程中的作用。
- 确保设计内容清晰、一致，开发人员能够直接基于此文档实现对应的功能逻辑而无需再寻求额外信息。
